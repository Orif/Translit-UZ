// Latin to cyrillic conversion script.
// Copyright Orif Turaboyev 2011.
t$=window.t$||{_apostrophes:["`","'"],_TSI_postFixes:["o","a","u","e","ye","yo","yu","ya"],_TS_postFixes:["b","d","f","g","j","k","l","m","n","p","r","s","t","v","x"],_uzbLetters:["\u045e","\u040e","\u049b","\u049a","\u0493","\u0492","\u04b3","\u04b2"],_inArray:function(a,d){var c=-1;if(a.indexOf)c=a.indexOf(d);for(var b=0,e=a.length;b<e;b++)if(a[b]===d){c=b;break}return c>-1},_containsAnyOf:function(c,a){if(c!=null&&a!=null)for(var b=0,d=a.length;b<d;b++)if(c.indexOf(a[b])>-1)return true;return false},_isEqual:function(b,a,c){return b==null&&a==null?true:b==null||a==null?false:a!=null?c?b.toLowerCase()==a.toLowerCase():b==a:false},getChar:function(c,b,a){if(a==undefined)a=c.length;return b<a&&b>-1?c[b]:null},getWord:function(d,c,b){if(b==undefined)b=d.length;if(c>=b||c<0)return null;var a=c+1;while(a-->0)if(!this.isLetter(this.getChar(d,a,b)))break;var e=a;a=c-1;while(++a<b)if(!this.isLetter(this.getChar(d,a,b)))break;var f=a-1;return d.substr(e+1,f-e)},setApostrophes:function(a){_apostrophes=a},isApostrophe:function(a){return this._inArray(this._apostrophes,a)},isLetter:function(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"},convert:function(d){if(d==null||d==undefined)throw new Error("argument is null");var k="",b=0,e=d.length,a="",g="",l=true;while(g=this.getChar(d,b,e)){a=null;var c=g.toLowerCase();l=g==c;if(b==e)break;if(c==="a")a="\u0430";else if(c==="b")a="\u0431";else if(c==="d")a="\u0434";else if(c==="f")a="\u0444";else if(c==="h")a="\u04b3";else if(c==="i")a="\u0438";else if(c==="j")a="\u0436";else if(c==="k")a="\u043a";else if(c==="l")a="\u043b";else if(c==="m")a="\u043c";else if(c==="n")a="\u043d";else if(c==="p")a="\u043f";else if(c==="q")a="\u049b";else if(c==="r")a="\u0440";else if(c==="u")a="\u0443";else if(c==="v")a="\u0432";else if(c==="x")a="\u0445";else if(c==="z")a="\u0437";else if(this.isApostrophe(c))a="\u044a";else if(c==="c"){if(this._isEqual("h",this.getChar(d,b+1,e),true)){a="\u0447";b++}}else if(c==="s"){a="\u0441";if(this._isEqual("h",this.getChar(d,b+1,e),true)){a="\u0448";b++}else if(this.isApostrophe(this.getChar(d,b+1,e))&&this._isEqual("h",this.getChar(d,b+2,e),true)){a="\u0441";b++}}else if(c==="g"){a="\u0433";if(this.isApostrophe(this.getChar(d,b+1,e))){a="\u0493";b++}}else if(c==="o"){a="\u043e";if(this.isApostrophe(this.getChar(d,b+1,e))){a="\u045e";b++}}else if(c==="e"){a="\u044d";var f=this.getChar(d,b-1,e);if(this._isEqual("e",f,true)&&this.isApostrophe(this.getChar(d,b+1,e)))a="\u044d";else if(f!=null)if((f=f.toLowerCase())>="a"&&f<="z"||this.isApostrophe(f))a="\u0435"}else if(c==="y"){a="\u0439";var f=this.getChar(d,b+1,e);if(this._isEqual("a",f,true)){a="\u044f";b++}else if(this._isEqual("e",f,true)){a="\u0435";b++}else if(this._isEqual("u",f,true)){a="\u044e";b++}else if(this._isEqual("o",f,true))if(!this.isApostrophe(this.getChar(d,b+2,e))){a="\u0451";b++}}else if(c==="t"){a="\u0442";if(this._isEqual("s",this.getChar(d,b+1,e),true)){var h=false,i=this.getWord(d,b,e);if(i!=null){var m=i.replace("TS"," ").replace("ts"," ").replace("Ts"," ").replace("tS"," "),n=this.convert(m);h=this._containsAnyOf(n,this._uzbLetters)}if(!h)if(!this.isLetter(this.getChar(d,b-1,e))){a="\u0446";b++}else if(!this.isLetter(this.getChar(d,b+2,e))){a="\u0446";b++}else if(this._isEqual("i",this.getChar(d,b+2,e),true)){var f=this.getChar(d,b+3,e);if(f!=null){if(this._isEqual("y",f,true)){var j=this.getChar(d,b+4,e);if(j!=null)f+=j}if(this._inArray(this._TSI_postFixes,f)){a="\u0446";b++}}}else if(this._inArray(this._TS_postFixes,this.getChar(d,b+2,e))){a="\u0446";b++}}}k+=a==null?g:l?a.toLowerCase():a.toUpperCase();b++}return k}}